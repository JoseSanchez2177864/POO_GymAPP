<Statsp>:
    FloatLayout:
        md_bg_color: 0.05, 0.05, 0.05, 1

        MDLabel:
            text: "Progreso de RM"
            font_size: "20sp"
            halign: "center"
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
            bold: True
            pos_hint: {"center_y": 0.95}
        
        MDRaisedButton:
            id: btn_imprimir
            text: "Imprimir"
            size_hint: None, None
            size: dp(100), dp(40)
            pos_hint: {"right": 0.95, "top": 0.95}
            opacity: 0
            disabled: True
            md_bg_color: 0, 1, 0, 1  # verde por defecto



        MDBoxLayout:
            orientation: "vertical"
            size_hint: 0.95, 0.75
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            spacing: dp(8)
            padding: dp(10)
            md_bg_color: 0.15, 0.15, 0.15, 1
            radius: [15, 15, 15, 15]

            MDTextField:
                id: campo_ejercicio
                hint_text: "Selecciona un ejercicio"
                mode: "rectangle"
                readonly: True  # para que no se pueda escribir
                on_focus:
                    if self.focus: root.menu.open()
                text: root.ejercicio_seleccionado

            ScrollView:
                size_hint_y: None
                height: dp(230)
                do_scroll_x: True
                do_scroll_y: False
                bar_width: dp(4)

                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_x: None
                    width: dp(700)
                    height: dp(220)

                    Image:
                        id: grafica_rm
                        size_hint: None, None
                        size: dp(680), dp(220)
                        allow_stretch: True
                        keep_ratio: True
                        opacity: 1

                    Image:
                        id: imagen_musculos
                        source: 'musculos_base.png'
                        size_hint: None, None
                        size: dp(680), dp(220)
                        pos_hint: {"center_y": 0.5}
                        allow_stretch: True
                        keep_ratio: True
                        opacity: 0

            MDLabel:
                id: info_ultimo_entrenamiento
                text: ""
                font_size: "14sp"
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                size_hint_y: None
                height: dp(20)


            MDRaisedButton:
                text: "Cambiar Vista"
                size_hint: None, None
                size: dp(150), dp(40)
                pos_hint: {"center_x": 0.5}
                on_release: root.cambiar_vista()

        MDSeparator:
            height: dp(1)
            md_bg_color: 0.4, 0.4, 0.4, 1
            pos_hint: {"center_x": 0.5, "y": 0.12}

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(50)
            padding: dp(10), 0
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "y": 0.02}

            MDIconButton:
                icon: "home"
                user_font_size: "24sp"
                md_bg_color: 0.8, 0.1, 0.1, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_release: app.root.current = 'pantalla3'
                
            MDIconButton:
                icon: "clipboard-list"
                user_font_size: "24sp"
                md_bg_color: 0.8, 0.1, 0.1, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_release: app.redirigir_por_rol()

            Widget:
                size_hint_x: 0.5

            MDIconButton:
                icon: "plus"
                user_font_size: "24sp"
                md_bg_color: 0.8, 0.1, 0.1, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1

            Widget:
                size_hint_x: 0.5

            MDIconButton:
                icon: "chart-bar"
                user_font_size: "24sp"
                md_bg_color: 0.8, 0.1, 0.1, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_release: app.redirigir_por_rol2()

            MDIconButton:
                icon: "account"
                user_font_size: "24sp"
                md_bg_color: 0.8, 0.1, 0.1, 1
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                on_release: app.root.current = 'pantalla5'
               
